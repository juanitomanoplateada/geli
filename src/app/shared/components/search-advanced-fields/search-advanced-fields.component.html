<div class="advanced-search">
  <div class="filter-group" *ngFor="let field of fieldsConfig">
    <label>{{ field.label }}:</label>

    <!-- Campos de texto, nÃºmero, fecha o tiempo -->
    <input
      *ngIf="['text', 'number', 'date', 'time'].includes(field.type)"
      [type]="field.type"
      [(ngModel)]="filters[field.key]"
      (change)="emitFilters()"
      [placeholder]="field.placeholder"
      [min]="field.type === 'number' ? 0 : null"
      title="Ingrese"
    />

    <!-- Dropdown personalizado (con buscador) -->
    <app-dropdown-filter
      *ngIf="field.type === 'dropdown'"
      [options]="options[field.key] || []"
      [selected]="filters[field.key]"
      (selectedChange)="filters[field.key] = $event; emitFilters()"
      [placeholder]="field.placeholder || field.label"
      [allowEmpty]="field.allowEmptyOption || 'Todas'"
    ></app-dropdown-filter>

    <!-- Select clÃ¡sico HTML -->
    <select
      *ngIf="field.type === 'select'"
      [(ngModel)]="filters[field.key]"
      (change)="emitFilters()"
      title="Seleccione"
    >
      <!-- ðŸš€ Mostrar opciÃ³n Todos/Todas si existe -->
      <option *ngIf="field.allowEmptyOption" value="">
        {{ field.allowEmptyOption }}
      </option>

      <!-- ðŸš€ Listar opciones normales -->
      <option *ngFor="let opt of field.options" [value]="opt">
        {{ opt }}
      </option>
    </select>
  </div>
</div>
