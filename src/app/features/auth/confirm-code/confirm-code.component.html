<div class="confirm-code-background">
  <main class="confirm-code-container">
    <!-- Botón de regreso -->
    <header class="confirm-code-header">
      <button class="btn-back" (click)="goBack()">←</button>
    </header>

    <!-- Logos institucionales -->
    <section class="confirm-code-logos">
      <img class="confirm-code-logo" src="/logo_uptc.png" alt="Logo UPTC" />
      <hr class="confirm-code-divider" />
      <img
        class="confirm-code-logo"
        src="/logo_incitema.png"
        alt="Logo INCITEMA"
      />
    </section>

    <!-- Título e instrucciones -->
    <h2 class="confirm-code-title">VALIDAR CÓDIGO DE RECUPERACIÓN</h2>
    <p class="confirm-code-instructions">
      Ingresa el código que enviamos a tu correo institucional
    </p>

    <!-- Mensaje de retroalimentación -->
    <div
      *ngIf="message"
      class="confirm-code-message"
      [ngClass]="{ error: hasError, success: !hasError }"
    >
      {{ message }}
    </div>

    <!-- Formulario -->
    <form class="confirm-code-form" (ngSubmit)="onSubmit()">
      <!-- Campo para código -->
      <div class="confirm-code-input-group">
        <input
          type="text"
          class="confirm-code-input"
          [(ngModel)]="code"
          name="code"
          placeholder="Código de recuperación"
          required
          appUppercaseNospace
        />
      </div>

      <!-- Botón para continuar -->
      <button type="submit" class="confirm-code-button" [disabled]="!code">
        Continuar
      </button>

      <!-- Botón para reenviar código -->
      <button
        type="button"
        class="confirm-code-button resend-button"
        [disabled]="!canResend"
        (click)="resendCode()"
      >
        Reenviar código
        <span *ngIf="!canResend" class="resend-counter">
          ({{ countdown }}s)
        </span>
      </button>
    </form>
  </main>
</div>
